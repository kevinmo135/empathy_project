<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reality Calculator - Low-Income Budget Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .main-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 20px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* Toggle switch styles */
        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: linear-gradient(135deg, #e5e7eb, #d1d5db);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .toggle-switch.active {
            background: linear-gradient(135deg, #10b981, #059669);
        }

        .toggle-slider {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch.active .toggle-slider {
            transform: translateX(30px);
        }

        /* Enhanced button styles */
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            color: #374151;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 10px 20px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #e5e7eb, #d1d5db);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 10px 20px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
        }

        /* Card styles */
        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .card-income {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border-left: 6px solid #10b981;
        }

        .card-expense {
            background: linear-gradient(135deg, #fef2f2, #fecaca);
            border-left: 6px solid #ef4444;
        }

        .card-balance {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            border-left: 6px solid #64748b;
        }

        .card-solutions {
            background: linear-gradient(135deg, #eff6ff, #dbeafe);
            border-left: 6px solid #3b82f6;
        }

        /* Input styles */
        .input-field {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            outline: none;
        }

        /* Number change animation */
        @keyframes numberChange {
            0% {
                background-color: rgba(34, 197, 94, 0.2);
                transform: scale(1);
            }

            50% {
                background-color: rgba(34, 197, 94, 0.4);
                transform: scale(1.05);
            }

            100% {
                background-color: transparent;
                transform: scale(1);
            }
        }

        .number-change {
            animation: numberChange 0.8s ease-in-out;
            border-radius: 8px;
            padding: 4px 8px;
        }

        /* Section headers */
        .section-header {
            background: linear-gradient(135deg, #1f2937, #374151);
            color: white;
            padding: 20px 24px;
            border-radius: 16px 16px 0 0;
            margin: -24px -24px 24px -24px;
        }

        /* Icon styles */
        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
            vertical-align: middle;
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Success story cards */
        .success-card {
            background: white;
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
            border-left: 4px solid;
        }

        .success-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        /* Policy button active state */
        .policy-btn-active {
            background: linear-gradient(135deg, #10b981, #059669) !important;
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4) !important;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav class="bg-white/10 backdrop-blur-md text-white p-4 sticky top-0 z-50">
        <div class="max-w-full mx-auto px-6 flex justify-between items-center">
            <h1 class="text-2xl font-bold gradient-text">üí∞ Reality Calculator</h1>
            <a href="index.html" class="btn-secondary text-white bg-white/20 hover:bg-white/30 border-white/30">
                ‚Üê Back to Kindness Bot
            </a>
        </div>
    </nav>

    <div class="main-container max-w-full mx-auto">
        <!-- Header -->
        <div class="text-center mb-12 p-8">
            <h1 class="text-5xl font-bold gradient-text mb-6">üí∞ Financial Reality Check</h1>
            <p class="text-xl text-gray-700 max-w-3xl mx-auto leading-relaxed">
                Discover the real financial challenges facing low-income workers. This interactive calculator uses
                <span class="font-semibold text-blue-600">actual government data</span> to show what life looks like on
                minimum wage
                and how proven policies could make a difference.
            </p>
        </div>

        <!-- Navigation Menu -->
        <div class="card mb-8">
            <div class="section-header">
                <h2 class="text-2xl font-bold">üó∫Ô∏è Explore Financial Reality</h2>
                <p class="text-blue-100 mt-2">Choose your path to understanding</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                <button onclick="scrollToSection('calculator')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üßÆ Budget Calculator</div>
                    <div class="text-sm text-gray-600">See the basic financial reality</div>
                </button>
                <button onclick="scrollToSection('emergency-simulator')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üö® Emergency Simulator</div>
                    <div class="text-sm text-gray-600">One expense away from disaster</div>
                </button>
                <button onclick="scrollToSection('time-poverty')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">‚è∞ Time Poverty</div>
                    <div class="text-sm text-gray-600">Hours needed to afford basics</div>
                </button>
                <button onclick="scrollToSection('benefits-cliff')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üìâ Benefits Cliff</div>
                    <div class="text-sm text-gray-600">Why raises can hurt</div>
                </button>
                <button onclick="scrollToSection('impossible-choices')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">ü§î Impossible Choices</div>
                    <div class="text-sm text-gray-600">Decisions no one should make</div>
                </button>
                <button onclick="scrollToSection('poverty-tax')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üí∏ The Poverty Tax</div>
                    <div class="text-sm text-gray-600">How being poor costs extra</div>
                </button>
                <button onclick="scrollToSection('geography')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üó∫Ô∏è Geography Impact</div>
                    <div class="text-sm text-gray-600">Location vs. wages</div>
                </button>
                <button onclick="scrollToSection('generational')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Generational Impact</div>
                    <div class="text-sm text-gray-600">Breaking the cycle</div>
                </button>
                <button onclick="scrollToSection('day-in-life')" class="btn-secondary text-left p-4">
                    <div class="text-lg font-semibold">üåÖ A Day in the Life</div>
                    <div class="text-sm text-gray-600">24 hours of struggle</div>
                </button>
            </div>
        </div>

        <!-- Calculator Section -->
        <div id="calculator" class="card mb-12">
            <div class="section-header">
                <h2 class="text-3xl font-bold">üßÆ Budget Calculator</h2>
                <p class="text-blue-100 mt-2">Enter your details to see the financial reality</p>
            </div>

            <!-- Input Controls -->
            <div class="grid lg:grid-cols-2 gap-8 mb-8">
                <div>
                    <label for="hourly-wage" class="block text-lg font-semibold text-gray-800 mb-3">
                        üíµ Hourly Wage
                    </label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500 text-lg">$</span>
                        <input type="number" id="hourly-wage" value="7.25" min="7.25" step="0.25"
                            class="input-field w-full pl-8 text-lg font-semibold">
                    </div>
                    <p class="text-sm text-gray-500 mt-2">Federal minimum: $7.25/hour</p>
                </div>

                <div>
                    <label for="family-size" class="block text-lg font-semibold text-gray-800 mb-3">
                        üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Size
                    </label>
                    <select id="family-size" class="input-field w-full text-lg">
                        <option value="1">1 person (single)</option>
                        <option value="2">2 people (couple)</option>
                        <option value="3">3 people (couple + 1 child)</option>
                        <option value="4">4 people (couple + 2 children)</option>
                        <option value="5">5 people (couple + 3 children)</option>
                    </select>
                </div>
            </div>

            <!-- Government Assistance Toggle -->
            <div class="card-solutions p-6 rounded-lg mb-8">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <label class="text-xl font-bold text-gray-800">üèõÔ∏è Include Government Assistance</label>
                        <p class="text-gray-600 mt-1">Federal programs like SNAP, WIC, Medicaid, childcare subsidies,
                            Section 8</p>
                    </div>
                    <div class="toggle-switch" id="government-assistance" onclick="toggleAssistanceDetails()">
                        <div class="toggle-slider"></div>
                    </div>
                </div>

                <!-- Assistance Details (Hidden by default) -->
                <div id="assistance-details" class="hidden mt-6 p-6 bg-white rounded-lg border-2 border-blue-200">
                    <h4 class="text-lg font-bold text-gray-800 mb-4">üìã Federal Poverty Level (FPL) Eligibility:</h4>
                    <div class="grid md:grid-cols-2 gap-4 mb-4">
                        <div class="space-y-2">
                            <div class="flex items-center"><span class="text-green-500 mr-2">üçé</span> SNAP (Food):
                                ‚â§130% FPL</div>
                            <div class="flex items-center"><span class="text-orange-500 mr-2">ü•õ</span> WIC (Nutrition):
                                ‚â§185% FPL</div>
                            <div class="flex items-center"><span class="text-red-500 mr-2">üè•</span> Medicaid
                                (Healthcare): ‚â§138% FPL</div>
                        </div>
                        <div class="space-y-2">
                            <div class="flex items-center"><span class="text-purple-500 mr-2">üë∂</span> Childcare
                                Subsidies: ‚â§200% FPL</div>
                            <div class="flex items-center"><span class="text-blue-500 mr-2">üè†</span> Section 8 Housing:
                                ‚â§80% FPL</div>
                        </div>
                    </div>
                    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                        <p class="text-sm text-yellow-800">
                            <strong>‚ö†Ô∏è Benefits Cliff:</strong> At $15/hour full-time, a single person earns ~185% FPL,
                            which may disqualify them from some benefits.
                        </p>
                    </div>

                    <!-- Assistance Breakdown -->
                    <div id="assistance-breakdown" class="mt-6 p-4 bg-gray-50 rounded-lg hidden">
                        <h5 class="font-bold text-gray-800 mb-3">üí∞ Monthly Benefits Breakdown:</h5>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 text-sm">
                            <div class="bg-white p-3 rounded shadow">
                                <div class="text-green-600 font-semibold">üçé SNAP</div>
                                <div class="text-2xl font-bold">$<span id="snap-benefit">0</span></div>
                            </div>
                            <div class="bg-white p-3 rounded shadow">
                                <div class="text-orange-600 font-semibold">ü•õ WIC</div>
                                <div class="text-2xl font-bold">$<span id="wic-benefit">0</span></div>
                            </div>
                            <div class="bg-white p-3 rounded shadow">
                                <div class="text-red-600 font-semibold">üè• Medicaid</div>
                                <div class="text-2xl font-bold">$<span id="medicaid-benefit">0</span></div>
                            </div>
                            <div class="bg-white p-3 rounded shadow">
                                <div class="text-purple-600 font-semibold">üë∂ Childcare</div>
                                <div class="text-2xl font-bold">$<span id="childcare-benefit">0</span></div>
                            </div>
                            <div class="bg-white p-3 rounded shadow">
                                <div class="text-blue-600 font-semibold">üè† Section 8</div>
                                <div class="text-2xl font-bold">$<span id="section8-benefit">0</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calculate Button -->
            <button onclick="calculateBudget()" class="btn-primary w-full text-xl py-4">
                üöÄ Calculate Monthly Budget
            </button>
        </div>

        <!-- Comprehensive Budget & Policy Analysis -->
        <div id="results" class="hidden bg-white rounded-lg shadow-lg p-6 mb-8">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Budget Analysis & Policy Solutions</h3>

            <!-- Current Budget Breakdown -->
            <div class="mb-8">
                <h4 class="text-xl font-semibold text-gray-800 mb-4">üìä Current Monthly Budget</h4>

                <!-- Income & Expenses Grid -->
                <div class="grid lg:grid-cols-2 gap-8 mb-6">
                    <!-- Income -->
                    <div class="bg-green-50 rounded-lg p-4">
                        <h5 class="text-lg font-semibold text-green-600 mb-2">Monthly Income</h5>
                        <div class="text-sm text-gray-600 mb-1">Gross: $<span id="gross-income">0</span></div>
                        <div class="space-y-1 text-xs text-gray-500 mb-2">
                            <div class="flex justify-between">
                                <span>- Federal Tax</span>
                                <span>$<span id="federal-tax">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>- State Tax</span>
                                <span>$<span id="state-tax">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>- Social Security</span>
                                <span>$<span id="social-security">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>- Medicare</span>
                                <span>$<span id="medicare">0</span></span>
                            </div>
                        </div>
                        <div class="border-t pt-2">
                            <div class="text-2xl font-bold text-green-600">$<span id="monthly-income">0</span></div>
                            <div class="text-sm text-gray-600">Net Take-Home Pay</div>
                        </div>
                        <div class="text-xs text-gray-500 mt-1">Based on <span id="hours-worked">160</span> hours/month
                        </div>
                    </div>

                    <!-- Expenses -->
                    <div class="bg-red-50 rounded-lg p-4">
                        <h5 class="text-lg font-semibold text-red-600 mb-3">Monthly Expenses</h5>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Housing</span>
                                <span class="font-semibold">$<span id="housing-cost">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>Food</span>
                                <span class="font-semibold">$<span id="food-cost">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>Transportation</span>
                                <span class="font-semibold">$<span id="transport-cost">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>Healthcare</span>
                                <span class="font-semibold">$<span id="healthcare-cost">0</span></span>
                            </div>
                            <div class="flex justify-between">
                                <span>Childcare</span>
                                <span class="font-semibold">$<span id="childcare-cost">0</span></span>
                            </div>
                            <hr class="border-red-200">
                            <div class="flex justify-between font-bold text-base">
                                <span>Total</span>
                                <span>$<span id="total-expenses-output">0</span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Balance -->
                <div class="bg-gray-50 rounded-lg p-4 mb-4">
                    <div class="flex justify-between items-center text-xl font-bold">
                        <span class="text-gray-800">Current Monthly Balance</span>
                        <span id="deficit-output" class="text-red-600">-$0</span>
                    </div>
                    <div id="narrative" class="mt-3 text-gray-700 text-sm"></div>
                </div>
            </div>

            <!-- Unified Policy Solutions Section -->
            <div class="card mb-8">
                <div class="section-header">
                    <h4 class="text-2xl font-bold">üöÄ Policy Solutions</h4>
                    <p class="text-blue-100 mt-2">Test proven policies individually or combine them - all changes update
                        the budget above</p>
                </div>

                <!-- All Policy Buttons -->
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6">
                    <!-- Minimum Wage -->
                    <button id="wage-15-btn" onclick="simulatePolicy('wage', 15)"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üí∞ $15 Minimum Wage</div>
                        <div class="text-sm text-gray-600">+$1,240/month income</div>
                    </button>

                    <!-- Universal Healthcare -->
                    <button id="healthcare-0-btn" onclick="simulatePolicy('healthcare', 0)"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üè• Universal Healthcare</div>
                        <div class="text-sm text-gray-600">$0 healthcare costs</div>
                    </button>

                    <!-- Subsidized Childcare -->
                    <button id="childcare-0-btn" onclick="simulatePolicy('childcare', 0)"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üë∂ Subsidized Childcare</div>
                        <div class="text-sm text-gray-600">$0 childcare costs</div>
                    </button>

                    <!-- Expanded EITC -->
                    <button id="solution-eitc" onclick="toggleSolution('eitc')"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üìà Expanded EITC</div>
                        <div class="text-sm text-gray-600">+$200/month income</div>
                    </button>

                    <!-- Child Allowance -->
                    <button id="solution-child-allowance" onclick="toggleSolution('childAllowance')"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Child Allowance</div>
                        <div class="text-sm text-gray-600">+$300/month per child</div>
                    </button>

                    <!-- Housing Voucher -->
                    <button id="solution-housing-voucher" onclick="toggleSolution('housingVoucher')"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üè† Housing Voucher</div>
                        <div class="text-sm text-gray-600">-$400/month housing</div>
                    </button>

                    <!-- Universal Pre-K -->
                    <button id="solution-universal-prek" onclick="toggleSolution('universalPreK')"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">üéì Universal Pre-K</div>
                        <div class="text-sm text-gray-600">-$450/month per child</div>
                    </button>

                    <!-- Public Health Option -->
                    <button id="solution-public-health" onclick="toggleSolution('publicHealth')"
                        class="btn-secondary text-left p-4 h-auto">
                        <div class="font-bold text-lg mb-1">ü©∫ Public Health Option</div>
                        <div class="text-sm text-gray-600">-$100/month healthcare</div>
                    </button>
                </div>

                <!-- Reset Button -->
                <div class="text-center mb-6">
                    <button onclick="resetAllPolicies()"
                        class="btn-secondary bg-red-100 text-red-700 hover:bg-red-200 px-8 py-3">
                        üîÑ Reset All Policies
                    </button>
                </div>

                <!-- Benefits Cliff Warning (moved here from solutions results) -->
                <div id="benefits-cliff-warning" class="hidden bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <span class="text-yellow-400 text-xl">‚ö†Ô∏è</span>
                        </div>
                        <div class="ml-3">
                            <h6 class="text-lg font-semibold text-yellow-800">Benefits Cliff Alert</h6>
                            <p class="text-yellow-700 mt-1" id="cliff-warning-text"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Success Stories -->
            <div class="card mb-8">
                <div class="section-header">
                    <h4 class="text-2xl font-bold">‚úÖ Real-World Success Stories</h4>
                    <p class="text-blue-100 mt-2">These policies have already worked in real places with real people</p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Child Tax Credit 2021 -->
                    <div class="success-card border-l-4 border-green-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üë∂</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Child Tax Credit (2021)</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Monthly payments of $300 per child <strong>cut child poverty by 40%</strong> in just
                                    one year.
                                    3.7 million children lifted out of poverty.
                                </p>
                                <a href="https://www.census.gov/library/stories/2022/09/record-drop-in-child-poverty.html"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üìä U.S. Census Bureau ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Alaska Permanent Fund -->
                    <div class="success-card border-l-4 border-blue-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üèîÔ∏è</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Alaska Permanent Fund</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Annual payments ($1,000-$2,000) for 40+ years. <strong>Reduced poverty 20%</strong>
                                    and boosted rural economies with no negative work effects.
                                </p>
                                <a href="https://www.nber.org/papers/w24312" target="_blank"
                                    class="text-blue-600 hover:underline text-sm font-medium">
                                    üìà NBER Study ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- EITC Success -->
                    <div class="success-card border-l-4 border-purple-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üíº</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Earned Income Tax Credit</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Lifts <strong>5.6 million people out of poverty</strong> annually.
                                    Every $1 invested generates $1.50-$2.00 in economic activity.
                                </p>
                                <a href="https://www.taxpolicycenter.org/briefing-book/what-earned-income-tax-credit"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üèõÔ∏è Tax Policy Center ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- $15 Minimum Wage -->
                    <div class="success-card border-l-4 border-green-600">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üí∞</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">$15 Minimum Wage</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Seattle's gradual increase to $15/hr <strong>raised wages 13%</strong>
                                    with minimal job losses. Workers gained $100+ million annually.
                                </p>
                                <a href="https://www.nber.org/papers/w25182" target="_blank"
                                    class="text-blue-600 hover:underline text-sm font-medium">
                                    üî¨ NBER Research ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Universal Pre-K -->
                    <div class="success-card border-l-4 border-orange-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üéì</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Universal Pre-K (Oklahoma)</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Free pre-K for all 4-year-olds. <strong>Increased high school graduation by
                                        7%</strong>
                                    and college attendance by 13%. $7 return per $1 invested.
                                </p>
                                <a href="https://www.brookings.edu/articles/the-current-state-of-scientific-knowledge-on-pre-k-effects/"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üèõÔ∏è Brookings Institution ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Housing First -->
                    <div class="success-card border-l-4 border-red-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üè†</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Housing Vouchers</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Housing vouchers <strong>reduce homelessness by 75%</strong> and improve
                                    children's long-term outcomes. Every $1 spent saves $2 in social costs.
                                </p>
                                <a href="https://www.huduser.gov/portal/sites/default/files/pdf/Family-Options-Study-3-Year-Impact-Evaluation.pdf"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üèõÔ∏è HUD Study ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Medicaid Expansion -->
                    <div class="success-card border-l-4 border-teal-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üè•</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">Medicaid Expansion</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    States that expanded Medicaid saw <strong>6.6% drop in uninsured rate</strong>,
                                    reduced medical debt, and improved financial security for working families.
                                </p>
                                <a href="https://www.kff.org/medicaid/issue-brief/the-effects-of-medicaid-expansion-under-the-aca-updated-findings-from-a-literature-review/"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üìä Kaiser Family Foundation ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- SNAP Benefits -->
                    <div class="success-card border-l-4 border-yellow-500">
                        <div class="flex items-start">
                            <span class="text-2xl mr-3">üçé</span>
                            <div>
                                <h5 class="font-bold text-gray-800 mb-2">SNAP Food Assistance</h5>
                                <p class="text-gray-600 text-sm mb-3">
                                    Every $1 in SNAP benefits generates <strong>$1.50-$1.80 in economic
                                        activity</strong>.
                                    Reduced food insecurity by 30% and improved children's health outcomes.
                                </p>
                                <a href="https://www.ers.usda.gov/topics/food-nutrition-assistance/supplemental-nutrition-assistance-program-snap/economic-linkages/"
                                    target="_blank" class="text-blue-600 hover:underline text-sm font-medium">
                                    üåæ USDA Research ‚Üí
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sources Section -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Sources & Methodology</h3>

            <div class="space-y-6">
                <!-- Data Sources -->
                <div>
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">Data Sources</h4>
                    <ul class="space-y-2 text-gray-600">
                        <li>‚Ä¢ <strong>Housing:</strong> <a href="https://www.huduser.gov/portal/datasets/fmr.html"
                                class="text-blue-600 hover:underline">HUD Fair Market Rents</a> and national apartment
                            rental data</li>
                        <li>‚Ä¢ <strong>Food:</strong> <a
                                href="https://www.fns.usda.gov/cnpp/usda-food-plans-cost-food-reports-monthly-reports"
                                class="text-blue-600 hover:underline">USDA Thrifty Food Plan</a> cost estimates</li>
                        <li>‚Ä¢ <strong>Transportation:</strong> <a href="https://www.bls.gov/cex/"
                                class="text-blue-600 hover:underline">Bureau of Labor Statistics Consumer Expenditure
                                Survey</a> - Low-income households (lowest quintile) spending patterns</li>
                        <li>‚Ä¢ <strong>Healthcare:</strong> <a href="https://www.bls.gov/cex/"
                                class="text-blue-600 hover:underline">BLS healthcare spending data</a> for lowest income
                            quintile</li>
                        <li>‚Ä¢ <strong>Childcare:</strong> <a
                                href="https://www.chicagofed.org/publications/chicago-fed-letter/2019/425"
                                class="text-blue-600 hover:underline">Federal Reserve Bank of Chicago</a> childcare
                            spending analysis</li>
                    </ul>
                </div>

                <!-- Government Assistance -->
                <div>
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">Government Assistance Programs</h4>
                    <ul class="space-y-2 text-gray-600">
                        <li>‚Ä¢ <strong>SNAP:</strong> <a href="https://www.fns.usda.gov/snap/recipient/eligibility"
                                class="text-blue-600 hover:underline">USDA Food and Nutrition Service</a></li>
                        <li>‚Ä¢ <strong>Medicaid:</strong> <a
                                href="https://www.medicaid.gov/medicaid/eligibility/index.html"
                                class="text-blue-600 hover:underline">Medicaid.gov eligibility guidelines</a></li>
                        <li>‚Ä¢ <strong>Housing:</strong> <a
                                href="https://www.hud.gov/topics/housing_choice_voucher_program_section_8"
                                class="text-blue-600 hover:underline">HUD Section 8 Housing Choice Voucher Program</a>
                        </li>
                    </ul>
                </div>

                <!-- Important Notes -->
                <div>
                    <h4 class="text-lg font-semibold text-gray-800 mb-3">Important Notes</h4>
                    <ul class="space-y-1 text-sm text-gray-600">
                        <li>‚Ä¢ All figures represent national averages and may vary significantly by location</li>
                        <li>‚Ä¢ Calculations assume full-time work (40 hours/week, ~160 hours/month)</li>
                        <li>‚Ä¢ Government assistance eligibility based on Federal Poverty Level guidelines</li>
                        <li>‚Ä¢ Does not include taxes, savings, emergency expenses, or discretionary spending</li>
                        <li>‚Ä¢ Healthcare costs reflect out-of-pocket expenses for low-income individuals</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let policyOverrides = {
            wage: null,
            healthcare: null,
            childcare: null
        };

        // Toggle assistance details
        function toggleAssistanceDetails() {
            const toggle = document.getElementById('government-assistance');
            const details = document.getElementById('assistance-details');

            toggle.classList.toggle('active');

            if (toggle.classList.contains('active')) {
                details.classList.remove('hidden');
            } else {
                details.classList.add('hidden');
            }

            // Recalculate if results are visible
            const results = document.getElementById('results');
            if (!results.classList.contains('hidden')) {
                calculateBudget();
            }
        }

        // Main calculation function
        function calculateTaxes(annualGrossIncome, familySize) {
            // 2024 tax calculations for low-income individuals
            const standardDeduction = familySize === 1 ? 14600 : 29200; // Single vs Married Filing Jointly
            const taxableIncome = Math.max(0, annualGrossIncome - standardDeduction);

            // Federal income tax (2024 brackets)
            let federalTax = 0;
            if (taxableIncome > 0) {
                if (taxableIncome <= 11000) {
                    federalTax = taxableIncome * 0.10;
                } else if (taxableIncome <= 44725) {
                    federalTax = 1100 + (taxableIncome - 11000) * 0.12;
                } else {
                    federalTax = 5147 + (taxableIncome - 44725) * 0.22;
                }
            }

            // State tax (using average of 5% for states with income tax)
            const stateTax = annualGrossIncome * 0.03; // Conservative 3% average

            // Social Security tax (6.2% up to wage base)
            const socialSecurityTax = Math.min(annualGrossIncome * 0.062, 10453.20); // 2024 max

            // Medicare tax (1.45%)
            const medicareTax = annualGrossIncome * 0.0145;

            return {
                federal: federalTax / 12, // Monthly
                state: stateTax / 12,
                socialSecurity: socialSecurityTax / 12,
                medicare: medicareTax / 12
            };
        }

        function calculateBudget() {
            const hourlyWage = parseFloat(document.getElementById('hourly-wage').value) || 7.25;
            const familySize = parseInt(document.getElementById('family-size').value) || 1;
            const governmentAssistance = document.getElementById('government-assistance').classList.contains('active');

            // Apply policy overrides and solutions
            let effectiveWage = policyOverrides.wage !== null ? policyOverrides.wage : hourlyWage;

            // Apply $15 minimum wage solution if active
            if (activeSolutions.minWage15) {
                effectiveWage = 15;
            }

            // Calculate gross monthly income (40 hours/week * 4.33 weeks/month)
            let grossMonthlyIncome = effectiveWage * 160; // 160 hours per month
            let annualGrossIncome = grossMonthlyIncome * 12;

            // Calculate taxes and deductions
            const taxes = calculateTaxes(annualGrossIncome, familySize);
            const totalMonthlyTaxes = taxes.federal + taxes.state + taxes.socialSecurity + taxes.medicare;

            // Net monthly income after taxes
            let monthlyIncome = grossMonthlyIncome - totalMonthlyTaxes;

            // Apply income-based solutions
            if (activeSolutions.eitc) {
                monthlyIncome += 200; // Expanded EITC: +$200/month
            }

            if (activeSolutions.childAllowance && familySize > 2) {
                const children = familySize - 2;
                monthlyIncome += (300 * children); // Child Allowance: +$300/month per child
            }

            // Calculate expenses based on family size
            let housingCost, foodCost, transportCost, healthcareCost, childcareCost;
            let adults, children;

            if (familySize === 1) {
                // Single person costs based on national averages
                housingCost = 1326; // National average rent for 1-bedroom apartment (2024)
                foodCost = 301; // USDA Thrifty Food Plan for 1 person (2024)
                transportCost = 377; // Low-income transportation costs: ~30% of income for lowest quintile (BLS 2024)
                healthcareCost = 156; // Low-income healthcare spending: $1,868/year √∑ 12 months (BLS 2024)
                childcareCost = 0;
                adults = 1;
                children = 0;
            } else if (familySize === 2) {
                // Couple with no children - same housing as single person
                housingCost = 1326; // Same 1-bedroom apartment
                foodCost = 691; // USDA Thrifty Food Plan for 2 people
                transportCost = 450; // Low-income couples transportation (scaled from single person)
                healthcareCost = 271; // Healthcare for 2 adults
                childcareCost = 0;
                adults = 2;
                children = 0;
            } else {
                // Family with children - needs more space
                adults = 2;
                children = familySize - 2;

                // Family costs based on national averages
                housingCost = 1578 + (children > 1 ? (children - 1) * 200 : 0); // 2-bedroom base, extra cost for 3+ children
                foodCost = 691 + (children * 183); // USDA Thrifty Food Plan scaling by family size
                transportCost = 500; // Low-income families transportation (modest increase for children)
                healthcareCost = 271 + (children * 85); // Low-income family healthcare scaling by size
                childcareCost = children > 0 ? (446 * children) : 0; // Low-income childcare spending: $5,356/year √∑ 12 months per child
            }

            // Apply policy overrides
            if (policyOverrides.healthcare !== null) {
                healthcareCost = policyOverrides.healthcare;
            }
            if (policyOverrides.childcare !== null) {
                childcareCost = policyOverrides.childcare;
            }

            // Apply solution-based expense reductions
            if (activeSolutions.housingVoucher) {
                housingCost = Math.max(0, housingCost - 400); // Housing Voucher: -$400/month
            }

            if (activeSolutions.universalPreK && children > 0) {
                childcareCost = Math.max(0, childcareCost - (450 * children)); // Universal Pre-K: -$450/month per child
            }

            if (activeSolutions.publicHealth) {
                healthcareCost = Math.max(0, healthcareCost - 100); // Public Health Option: -$100/month
            }

            // Calculate government assistance if enabled
            let snapBenefit = 0, wicBenefit = 0, medicaidBenefit = 0, childcareBenefit = 0, section8Benefit = 0;

            if (governmentAssistance) {
                // Federal Poverty Level calculations (2024)
                const fplSingle = 15060; // Annual FPL for 1 person
                const fplFamily4 = 31200; // Annual FPL for family of 4
                const fplBase = fplSingle + ((familySize - 1) * 4720); // Approximate FPL for family size
                const annualIncome = monthlyIncome * 12;
                const fplPercentage = (annualIncome / fplBase) * 100;

                // SNAP (Food Stamps) - up to 130% FPL
                if (fplPercentage <= 130) {
                    if (familySize === 1) snapBenefit = 291;
                    else if (familySize === 2) snapBenefit = 535;
                    else if (familySize === 3) snapBenefit = 766;
                    else if (familySize === 4) snapBenefit = 973;
                    else snapBenefit = 973 + ((familySize - 4) * 200);

                    foodCost = Math.max(0, foodCost - snapBenefit);
                }

                // WIC - up to 185% FPL (pregnant women, infants, children under 5)
                if (fplPercentage <= 185 && children > 0) {
                    wicBenefit = Math.min(children, 2) * 47; // Average monthly WIC benefit per eligible child
                    foodCost = Math.max(0, foodCost - wicBenefit);
                }

                // Medicaid - up to 138% FPL
                if (fplPercentage <= 138) {
                    medicaidBenefit = healthcareCost * 0.8; // Medicaid covers ~80% of healthcare costs
                    healthcareCost = Math.max(0, healthcareCost - medicaidBenefit);
                }

                // Childcare Subsidies - up to 200% FPL
                if (fplPercentage <= 200 && children > 0) {
                    childcareBenefit = childcareCost * 0.7; // Subsidies cover ~70% of childcare costs
                    childcareCost = Math.max(0, childcareCost - childcareBenefit);
                }

                // Section 8 Housing - up to 80% FPL
                if (fplPercentage <= 80) {
                    section8Benefit = housingCost * 0.6; // Section 8 covers ~60% of housing costs
                    housingCost = Math.max(0, housingCost - section8Benefit);
                }
            }

            const totalExpenses = housingCost + foodCost + transportCost + healthcareCost + childcareCost;
            const monthlyBalance = monthlyIncome - totalExpenses;

            // Update the display
            document.getElementById('gross-income').textContent = grossMonthlyIncome.toFixed(0);
            document.getElementById('federal-tax').textContent = taxes.federal.toFixed(0);
            document.getElementById('state-tax').textContent = taxes.state.toFixed(0);
            document.getElementById('social-security').textContent = taxes.socialSecurity.toFixed(0);
            document.getElementById('medicare').textContent = taxes.medicare.toFixed(0);
            document.getElementById('monthly-income').textContent = monthlyIncome.toFixed(0);
            document.getElementById('housing-cost').textContent = housingCost.toFixed(0);
            document.getElementById('food-cost').textContent = foodCost.toFixed(0);
            document.getElementById('transport-cost').textContent = transportCost.toFixed(0);
            document.getElementById('healthcare-cost').textContent = healthcareCost.toFixed(0);
            document.getElementById('childcare-cost').textContent = childcareCost.toFixed(0);
            document.getElementById('total-expenses-output').textContent = totalExpenses.toFixed(0);

            // Update assistance breakdown
            const assistanceBreakdown = document.getElementById('assistance-breakdown');
            if (governmentAssistance && (snapBenefit + wicBenefit + medicaidBenefit + childcareBenefit + section8Benefit) > 0) {
                document.getElementById('snap-benefit').textContent = snapBenefit.toFixed(0);
                document.getElementById('wic-benefit').textContent = wicBenefit.toFixed(0);
                document.getElementById('medicaid-benefit').textContent = medicaidBenefit.toFixed(0);
                document.getElementById('childcare-benefit').textContent = childcareBenefit.toFixed(0);
                document.getElementById('section8-benefit').textContent = section8Benefit.toFixed(0);
                assistanceBreakdown.classList.remove('hidden');

                // Add animation
                assistanceBreakdown.classList.add('number-change');
                setTimeout(() => assistanceBreakdown.classList.remove('number-change'), 1000);
            } else {
                assistanceBreakdown.classList.add('hidden');
            }

            // Add animations to changed numbers
            ['housing-cost', 'food-cost', 'healthcare-cost', 'childcare-cost', 'total-expenses-output'].forEach(id => {
                const element = document.getElementById(id);
                element.classList.add('number-change');
                setTimeout(() => element.classList.remove('number-change'), 1000);
            });

            // Update balance and narrative
            const deficitOutput = document.getElementById('deficit-output');
            const narrative = document.getElementById('narrative');

            if (monthlyBalance >= 0) {
                deficitOutput.textContent = `+$${monthlyBalance.toFixed(0)}`;
                deficitOutput.className = 'text-green-600';
                narrative.innerHTML = `<strong>Surplus:</strong> This family has $${monthlyBalance.toFixed(0)} left over each month after basic expenses. This provides some financial breathing room for savings, emergencies, or discretionary spending.`;
            } else {
                deficitOutput.textContent = `-$${Math.abs(monthlyBalance).toFixed(0)}`;
                deficitOutput.className = 'text-red-600';
                const assistanceText = governmentAssistance ? " even with government assistance" : " (see breakdown above)";
                narrative.innerHTML = `<strong>Deficit:</strong> This family falls short by $${Math.abs(monthlyBalance).toFixed(0)} each month${assistanceText}. This means they cannot afford basic necessities without going into debt, borrowing money, or making difficult choices like skipping meals or medical care.`;
            }

            deficitOutput.classList.add('number-change');
            setTimeout(() => deficitOutput.classList.remove('number-change'), 1000);

            // Show results
            document.getElementById('results').classList.remove('hidden');
        }

        // Policy simulation function
        function simulatePolicy(policyType, value) {
            // Check if the policy is already active
            if (policyOverrides[policyType] === value) {
                // If it's the "positive" one, deactivate it
                if (value === 15 || value === 0) {
                    policyOverrides[policyType] = null;
                    // Reset wage input to original value when deactivating wage policy
                    if (policyType === 'wage') {
                        document.getElementById('hourly-wage').value = 7.25;
                    }
                } else {
                    // Otherwise, just do nothing
                    return;
                }
            } else {
                // Deactivate the other option for this policy type
                if (policyType === 'wage') {
                    policyOverrides.wage = null;
                    // Update the wage input field to show the simulated wage
                    document.getElementById('hourly-wage').value = value;
                } else if (policyType === 'healthcare') {
                    policyOverrides.healthcare = null;
                } else if (policyType === 'childcare') {
                    policyOverrides.childcare = null;
                }
                // Set the new policy value
                policyOverrides[policyType] = value;
            }

            // Update button styles based on active policies
            updateButtonStyles();

            // Recalculate and display the budget with the new parameters
            calculateBudget();
        }

        // Reset all policies
        function resetPolicies() {
            policyOverrides = {
                wage: null,
                healthcare: null,
                childcare: null
            };

            // Reset wage input
            document.getElementById('hourly-wage').value = 7.25;

            // Update button styles
            updateButtonStyles();

            // Recalculate
            calculateBudget();
        }

        // Reset all policies and solutions
        function resetAllPolicies() {
            // Reset policy overrides
            policyOverrides = {
                wage: null,
                healthcare: null,
                childcare: null
            };

            // Reset solutions
            Object.keys(activeSolutions).forEach(key => {
                activeSolutions[key] = false;
            });

            // Reset wage input
            document.getElementById('hourly-wage').value = 7.25;

            // Update button styles
            updateButtonStyles();
            updateSolutionButtons();

            // Hide benefits cliff warning
            document.getElementById('benefits-cliff-warning').classList.add('hidden');

            // Recalculate
            calculateBudget();
        }

        // Update button styles based on active policies
        function updateButtonStyles() {
            // Reset policy buttons to default style
            const policyButtons = ['wage-15-btn', 'healthcare-0-btn', 'childcare-0-btn'];
            policyButtons.forEach(btnId => {
                const btn = document.getElementById(btnId);
                if (btn) {
                    btn.className = 'btn-secondary text-left p-4 h-auto';
                }
            });

            // Highlight active policy buttons
            if (policyOverrides.wage === 15) {
                document.getElementById('wage-15-btn').className = 'btn-secondary text-left p-4 h-auto policy-btn-active';
            }
            if (policyOverrides.healthcare === 0) {
                document.getElementById('healthcare-0-btn').className = 'btn-secondary text-left p-4 h-auto policy-btn-active';
            }
            if (policyOverrides.childcare === 0) {
                document.getElementById('childcare-0-btn').className = 'btn-secondary text-left p-4 h-auto policy-btn-active';
            }
        }

        // Solutions That Work functionality
        let activeSolutions = {
            eitc: false,
            childAllowance: false,
            housingVoucher: false,
            universalPreK: false,
            publicHealth: false,
            minWage15: false
        };

        // Toggle a solution on/off
        function toggleSolution(solutionType) {
            activeSolutions[solutionType] = !activeSolutions[solutionType];
            updateSolutionButtons();
            calculateBudget(); // Update main budget instead of separate results
        }

        // Update button styles based on active solutions
        function updateSolutionButtons() {
            // Map solution keys to their button IDs
            const buttonIdMap = {
                'eitc': 'solution-eitc',
                'childAllowance': 'solution-child-allowance',
                'housingVoucher': 'solution-housing-voucher',
                'universalPreK': 'solution-universal-prek',
                'publicHealth': 'solution-public-health',
                'minWage15': 'solution-min-wage'
            };

            Object.keys(activeSolutions).forEach(solution => {
                const buttonId = buttonIdMap[solution];
                const button = document.getElementById(buttonId);
                if (button) {
                    if (activeSolutions[solution]) {
                        button.className = 'btn-secondary text-left p-4 h-auto policy-btn-active';
                    } else {
                        button.className = 'btn-secondary text-left p-4 h-auto';
                    }
                }
            });
        }

        // Clear all solutions
        function clearAllSolutions() {
            Object.keys(activeSolutions).forEach(key => {
                activeSolutions[key] = false;
            });
            updateSolutionButtons();
            calculateBudget(); // Update main budget instead of hiding results
        }

        // Calculate the combined impact of all active solutions
        function calculateSolutionsImpact() {
            const hourlyWage = parseFloat(document.getElementById('hourly-wage').value) || 7.25;
            const familySize = parseInt(document.getElementById('family-size').value) || 1;
            const children = Math.max(0, familySize - 2);
            const governmentAssistance = document.getElementById('government-assistance').classList.contains('active');

            // Get baseline monthly income and expenses (same logic as main calculator)
            let baseMonthlyIncome = hourlyWage * 160; // 160 hours per month
            let baseExpenses = getBaseExpenses(familySize);

            let incomeChange = 0;
            let expenseSavings = 0;
            let subsidyLoss = 0; // Track lost government benefits

            // Calculate new wage after solutions
            let newHourlyWage = hourlyWage;
            if (activeSolutions.minWage15) {
                newHourlyWage = 15;
                incomeChange += ((15 - hourlyWage) * 160); // Additional income from wage increase
            }

            // Calculate impact of other solutions
            if (activeSolutions.eitc) {
                incomeChange += 200; // Expanded EITC: +$200/month
            }

            if (activeSolutions.childAllowance && children > 0) {
                incomeChange += (300 * children); // Child Allowance: +$300/month per child
            }

            if (activeSolutions.housingVoucher) {
                expenseSavings += 400; // Housing Voucher: -$400/month
            }

            if (activeSolutions.universalPreK && children > 0) {
                expenseSavings += (450 * children); // Universal Pre-K: -$450/month per child
            }

            if (activeSolutions.publicHealth) {
                expenseSavings += 100; // Public Health Option: -$100/month
            }

            // Calculate benefits cliff impact if government assistance is enabled
            if (governmentAssistance) {
                const newMonthlyIncome = baseMonthlyIncome + incomeChange;
                const newAnnualIncome = newMonthlyIncome * 12;

                // Federal Poverty Level calculations (2024)
                const fplBase = 15060 + ((familySize - 1) * 4720); // Approximate FPL for family size
                const newFplPercentage = (newAnnualIncome / fplBase) * 100;

                // Calculate baseline benefits (what they had before solutions)
                const baseAnnualIncome = baseMonthlyIncome * 12;
                const baseFplPercentage = (baseAnnualIncome / fplBase) * 100;

                let baseSnapBenefit = 0, baseWicBenefit = 0, baseMedicaidBenefit = 0;
                let baseChildcareBenefit = 0, baseSection8Benefit = 0;

                // Calculate baseline benefits
                if (baseFplPercentage <= 130) {
                    if (familySize === 1) baseSnapBenefit = 291;
                    else if (familySize === 2) baseSnapBenefit = 535;
                    else if (familySize === 3) baseSnapBenefit = 766;
                    else if (familySize === 4) baseSnapBenefit = 973;
                    else baseSnapBenefit = 973 + ((familySize - 4) * 200);
                }

                if (baseFplPercentage <= 185 && children > 0) {
                    baseWicBenefit = Math.min(children, 2) * 47;
                }

                if (baseFplPercentage <= 138) {
                    const baseHealthcareCost = getBaseExpenses(familySize).healthcare;
                    baseMedicaidBenefit = baseHealthcareCost * 0.8;
                }

                if (baseFplPercentage <= 200 && children > 0) {
                    const baseChildcareCost = getBaseExpenses(familySize).childcare;
                    baseChildcareBenefit = baseChildcareCost * 0.7;
                }

                if (baseFplPercentage <= 80) {
                    const baseHousingCost = getBaseExpenses(familySize).housing;
                    baseSection8Benefit = baseHousingCost * 0.6;
                }

                // Calculate new benefits after solutions
                let newSnapBenefit = 0, newWicBenefit = 0, newMedicaidBenefit = 0;
                let newChildcareBenefit = 0, newSection8Benefit = 0;

                if (newFplPercentage <= 130) {
                    if (familySize === 1) newSnapBenefit = 291;
                    else if (familySize === 2) newSnapBenefit = 535;
                    else if (familySize === 3) newSnapBenefit = 766;
                    else if (familySize === 4) newSnapBenefit = 973;
                    else newSnapBenefit = 973 + ((familySize - 4) * 200);
                }

                if (newFplPercentage <= 185 && children > 0) {
                    newWicBenefit = Math.min(children, 2) * 47;
                }

                if (newFplPercentage <= 138) {
                    const baseHealthcareCost = getBaseExpenses(familySize).healthcare;
                    newMedicaidBenefit = baseHealthcareCost * 0.8;
                }

                if (newFplPercentage <= 200 && children > 0) {
                    const baseChildcareCost = getBaseExpenses(familySize).childcare;
                    newChildcareBenefit = baseChildcareCost * 0.7;
                }

                if (newFplPercentage <= 80) {
                    const baseHousingCost = getBaseExpenses(familySize).housing;
                    newSection8Benefit = baseHousingCost * 0.6;
                }

                // Calculate subsidy loss
                subsidyLoss = (baseSnapBenefit - newSnapBenefit) +
                    (baseWicBenefit - newWicBenefit) +
                    (baseMedicaidBenefit - newMedicaidBenefit) +
                    (baseChildcareBenefit - newChildcareBenefit) +
                    (baseSection8Benefit - newSection8Benefit);

                // Adjust expense savings to account for lost benefits
                expenseSavings = Math.max(0, expenseSavings - subsidyLoss);
            }

            // Calculate new balance
            const newMonthlyIncome = baseMonthlyIncome + incomeChange;
            const newMonthlyExpenses = baseExpenses.total - expenseSavings;
            const newBalance = newMonthlyIncome - newMonthlyExpenses;

            // Update display
            document.getElementById('income-change').textContent = incomeChange.toFixed(0);
            document.getElementById('monthly-savings').textContent = expenseSavings.toFixed(0);
            document.getElementById('new-balance').textContent = Math.abs(newBalance).toFixed(0);

            const newBalanceDisplay = document.getElementById('new-balance-display');
            if (newBalance >= 0) {
                newBalanceDisplay.className = 'text-xl font-bold text-green-600';
                document.getElementById('new-balance').textContent = '+' + newBalance.toFixed(0);
            } else {
                newBalanceDisplay.className = 'text-xl font-bold text-red-600';
                document.getElementById('new-balance').textContent = '-' + Math.abs(newBalance).toFixed(0);
            }

            // Show benefits cliff warning if there's significant subsidy loss
            updateBenefitsCliffWarning(subsidyLoss, newHourlyWage > hourlyWage);

            // Show results if any solutions are active
            const hasActiveSolutions = Object.values(activeSolutions).some(active => active);
            if (hasActiveSolutions) {
                document.getElementById('solutions-results').classList.remove('hidden');
            } else {
                document.getElementById('solutions-results').classList.add('hidden');
            }
        }

        // Show benefits cliff warning when subsidies are lost
        function updateBenefitsCliffWarning(subsidyLoss, hasWageIncrease) {
            const warningDiv = document.getElementById('benefits-cliff-warning');
            const warningText = document.getElementById('cliff-warning-text');

            if (subsidyLoss > 50 && hasWageIncrease) { // Show warning if losing more than $50/month in benefits
                warningText.textContent = `Higher income from wage increases may result in losing $${subsidyLoss.toFixed(0)}/month in government benefits. This "benefits cliff" effect has been factored into the calculations above.`;
                warningDiv.classList.remove('hidden');
            } else if (subsidyLoss > 0 && hasWageIncrease) {
                warningText.textContent = `Note: Higher income may reduce some government benefits by $${subsidyLoss.toFixed(0)}/month, but the overall impact is still positive.`;
                warningDiv.classList.remove('hidden');
            } else {
                warningDiv.classList.add('hidden');
            }
        }

        // Helper function to get base expenses (matches main calculator logic)
        function getBaseExpenses(familySize) {
            let housingCost, foodCost, transportCost, healthcareCost, childcareCost;
            let children = Math.max(0, familySize - 2);

            if (familySize === 1) {
                housingCost = 1326;
                foodCost = 301;
                transportCost = 377;
                healthcareCost = 156;
                childcareCost = 0;
            } else if (familySize === 2) {
                housingCost = 1326; // Same 1-bedroom apartment
                foodCost = 691;
                transportCost = 450;
                healthcareCost = 271;
                childcareCost = 0;
            } else {
                housingCost = 1578 + (children > 1 ? (children - 1) * 200 : 0);
                foodCost = 691 + (children * 183);
                transportCost = 450;
                healthcareCost = 271 + (children * 85);
                childcareCost = children > 0 ? (446 * children) : 0;
            }

            const total = housingCost + foodCost + transportCost + healthcareCost + childcareCost;

            return {
                housing: housingCost,
                food: foodCost,
                transport: transportCost,
                healthcare: healthcareCost,
                childcare: childcareCost,
                total: total
            };
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function () {
            // Add debounced event listener for hourly wage to prevent constant recalculation
            let wageTimeout;
            document.getElementById('hourly-wage').addEventListener('input', function () {
                clearTimeout(wageTimeout);
                wageTimeout = setTimeout(() => {
                    calculateBudget();
                    if (Object.values(activeSolutions).some(active => active)) {
                        calculateSolutionsImpact();
                    }
                }, 500); // Wait 500ms after user stops typing
            });

            // Family size changes immediately since it's a dropdown
            document.getElementById('family-size').addEventListener('change', function () {
                calculateBudget();
                if (Object.values(activeSolutions).some(active => active)) {
                    calculateSolutionsImpact();
                }
            });
        });

        // Emergency Simulator Functions
        function simulateEmergency(type, cost) {
            const stories = {
                car: "Maria's story: 'My transmission died on a Monday. I couldn't get to work, lost my job by Friday. The repair cost $500, but losing my job cost me everything. I ended up homeless within two months.'",
                medical: "James's story: 'My son broke his arm. The ER copay was $300. I had to choose between paying rent or the medical bill. We were evicted 30 days later.'",
                dental: "Sarah's story: 'I ignored my toothache for months because I couldn't afford a dentist. When it became unbearable, the emergency extraction cost $250. I had to choose between that and groceries for my kids.'",
                work: "David's story: 'My daughter got sick and I had to miss a week of work - no paid sick leave. Lost $400 in wages. Couldn't pay electric bill. We lived without power for three weeks.'",
                phone: "Lisa's story: 'My phone died and I needed it to get work calls. Spent my grocery money on a replacement. We ate ramen for two weeks straight.'"
            };

            const effects = {
                car: [
                    "Immediate: -$500 from emergency fund (if any)",
                    "Week 1: Miss work, lose $300 in wages",
                    "Week 2: Late rent fee: -$50",
                    "Week 3: Overdraft fees from bounced checks: -$35 each",
                    "Month 2: Possible job loss from unreliable transportation",
                    "Month 3: Potential eviction, credit damage"
                ],
                medical: [
                    "Immediate: -$300 medical copay",
                    "Week 1: Choose between rent and medical payment",
                    "Week 2: Late payment fees start accumulating",
                    "Month 1: Credit score drops from missed payments",
                    "Month 2: Collections calls begin",
                    "Month 3: Medical debt affects housing applications"
                ],
                dental: [
                    "Immediate: -$250 for emergency procedure",
                    "Previous months: Lost productivity from pain",
                    "Week 1: Can't afford prescription painkillers",
                    "Week 2: Miss work from complications",
                    "Month 1: Need additional dental work",
                    "Long-term: Tooth loss affects job prospects"
                ],
                work: [
                    "Immediate: -$400 in lost wages",
                    "Week 1: Can't pay utility bill",
                    "Week 2: Electricity shut off notice",
                    "Week 3: Power disconnected",
                    "Month 1: Late fees and reconnection costs",
                    "Long-term: Child's health worsens from stress"
                ],
                phone: [
                    "Immediate: -$200 from food budget",
                    "Week 1: Family eats rice and beans only",
                    "Week 2: Kids ask teachers for extra snacks",
                    "Week 3: Consider food bank",
                    "Month 1: Malnutrition affects work performance",
                    "Long-term: Children's development impacted"
                ]
            };

            document.getElementById('emergency-impact').innerHTML = effects[type]
                .map(effect => `<div class="p-2 bg-white rounded border-l-4 border-red-500">${effect}</div>`)
                .join('');

            document.getElementById('emergency-story').innerHTML = `
                <div class="bg-white p-4 rounded-lg border-l-4 border-blue-500">
                    <div class="font-semibold mb-2">${type.charAt(0).toUpperCase() + type.slice(1)} Emergency - Real Impact</div>
                    <div class="italic">"${stories[type]}"</div>
                </div>
            `;
        }

        // Benefits Cliff Calculator
        function updateBenefitsCliff() {
            const wage = parseFloat(document.getElementById('cliff-wage').value);
            document.getElementById('cliff-wage-display').textContent = wage.toFixed(2);

            // Calculate income for family of 3 (2 adults, 1 child)
            const monthlyIncome = wage * 160;
            const annualIncome = monthlyIncome * 12;
            const fpl = 24860; // 2024 FPL for family of 3

            // Benefits eligibility thresholds
            const snapThreshold = fpl * 1.3; // 130% FPL
            const medicaidThreshold = fpl * 1.38; // 138% FPL
            const childcareThreshold = fpl * 2.0; // 200% FPL
            const housingThreshold = fpl * 0.8; // 80% FPL

            // Calculate benefits lost
            let snapLost = 0, medicaidLost = 0, childcareLost = 0, housingLost = 0;

            if (annualIncome > snapThreshold) snapLost = 766; // Family of 3 SNAP benefit
            if (annualIncome > medicaidThreshold) medicaidLost = 271; // Healthcare costs
            if (annualIncome > childcareThreshold) childcareLost = 446; // Childcare subsidy
            if (annualIncome > housingThreshold) housingLost = 947; // Section 8 housing assistance

            const totalBenefitsLost = snapLost + medicaidLost + childcareLost + housingLost;

            // Calculate income gained from baseline $12/hour
            const baselineWage = 12;
            const baselineMonthly = baselineWage * 160;
            const grossGained = monthlyIncome - baselineMonthly;
            const taxesAdditional = grossGained * 0.15; // Rough tax rate
            const netGained = grossGained - taxesAdditional;

            const netChange = netGained - totalBenefitsLost;

            // Update display
            document.getElementById('snap-lost').textContent = snapLost;
            document.getElementById('medicaid-lost').textContent = medicaidLost;
            document.getElementById('childcare-lost').textContent = childcareLost;
            document.getElementById('housing-lost').textContent = housingLost;
            document.getElementById('total-benefits-lost').textContent = totalBenefitsLost;

            document.getElementById('gross-gained').textContent = Math.max(0, grossGained);
            document.getElementById('taxes-additional').textContent = Math.max(0, taxesAdditional.toFixed(0));
            document.getElementById('net-gained').textContent = Math.max(0, netGained.toFixed(0));

            const changeElement = document.getElementById('cliff-net-change');
            const messageElement = document.getElementById('cliff-message');
            const resultElement = document.getElementById('cliff-result');

            changeElement.textContent = (netChange >= 0 ? '+$' : '-$') + Math.abs(netChange).toFixed(0);

            if (netChange < 0) {
                changeElement.className = 'text-red-600';
                resultElement.className = 'mt-6 p-6 rounded-lg bg-red-50';
                messageElement.textContent = 'This wage increase actually makes the family poorer! This is the "benefits cliff."';
            } else {
                changeElement.className = 'text-green-600';
                resultElement.className = 'mt-6 p-6 rounded-lg bg-green-50';
                messageElement.textContent = 'At this wage level, the family comes out ahead.';
            }
        }

        // Navigation function
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize benefits cliff on page load
        document.addEventListener('DOMContentLoaded', function () {
            updateBenefitsCliff();
        });

        // Impossible Choices Scenarios
        const scenarios = {
            'sick-child': {
                text: "Your 6-year-old has a fever of 102¬∞F and is throwing up. You work at a restaurant with no paid sick leave. If you miss work, you won't be able to pay for groceries this week. What do you do?",
                choices: [
                    { text: "Stay home with your child", result: "You lose $80 in wages. Your child recovers, but you have to choose between paying the electric bill or buying groceries. You visit the food bank for the first time." },
                    { text: "Leave your child with a neighbor and go to work", result: "Your neighbor calls - your child's fever spiked to 104¬∞F. You rush to the ER, missing work anyway. The ER bill is $300, and you lost wages. Your boss threatens to fire you for leaving." },
                    { text: "Take your child to work with you", result: "Your boss sends you home immediately and docks your pay. Your child infects two coworkers. You're written up and may lose your job." }
                ]
            },
            'car-broke': {
                text: "Your car won't start and you need to be at work in 2 hours. The repair will cost $400 you don't have. You live 15 miles from work with no public transportation. What do you do?",
                choices: [
                    { text: "Take out a payday loan for the repair", result: "You get the $400 loan at 400% APR. The repair takes 3 days, so you miss work anyway. In 2 weeks, you owe $500. The debt spiral begins." },
                    { text: "Try to find rides from coworkers", result: "You find rides for a week, but it's unreliable. You're late twice and miss one day completely. Your boss gives you a final warning. The stress is overwhelming." },
                    { text: "Look for a job closer to home", result: "You spend your last $20 on bus fare for job interviews. The only nearby job pays $2/hour less. You take it, but now can't afford your current apartment." }
                ]
            },
            'eviction-notice': {
                text: "You received an eviction notice. You're $200 short on rent and have 3 days to pay or face eviction. Your next paycheck isn't for 5 days. What do you do?",
                choices: [
                    { text: "Ask family for help", result: "Your family is also struggling and can only lend $50. You're still $150 short. The eviction proceeds. You and your children become homeless." },
                    { text: "Sell your belongings", result: "You sell your TV, jewelry, and tools for $180. You make rent but have no emergency fund left. Next month, a medical bill puts you in the same situation." },
                    { text: "Try to negotiate with the landlord", result: "Your landlord agrees to a payment plan but adds $100 in late fees. You avoid eviction but now owe even more money you don't have." }
                ]
            },
            'medicine-choice': {
                text: "You have diabetes and need insulin. Your prescription costs $120, but you only have $100 left for the week. Your family needs groceries. What do you do?",
                choices: [
                    { text: "Buy the insulin and skip groceries", result: "You take your medicine but your family eats rice and beans for a week. Your children ask why there's no food. You feel like you're failing as a parent." },
                    { text: "Buy groceries and skip the insulin", result: "Your blood sugar spikes dangerously. You end up in the ER with diabetic ketoacidosis. The hospital bill is $3,000, and you nearly died." },
                    { text: "Try to stretch the insulin and buy some food", result: "You take half doses to make it last. Your blood sugar is unstable, affecting your work performance. Your boss notices you're 'unreliable' lately." }
                ]
            }
        };

        function startScenario(scenarioId) {
            const scenario = scenarios[scenarioId];
            document.getElementById('scenario-intro').classList.add('hidden');
            document.getElementById('scenario-content').classList.remove('hidden');

            document.getElementById('scenario-text').textContent = scenario.text;

            const choicesDiv = document.getElementById('scenario-choices');
            choicesDiv.innerHTML = '';

            scenario.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 bg-white rounded-lg border hover:bg-gray-50';
                button.innerHTML = `<div class="font-semibold">${choice.text}</div>`;
                button.onclick = () => showResult(choice.result);
                choicesDiv.appendChild(button);
            });
        }

        function showResult(result) {
            const resultDiv = document.getElementById('scenario-result');
            resultDiv.innerHTML = `
                <div class="bg-red-50 border-l-4 border-red-500 p-4">
                    <div class="font-semibold text-red-600 mb-2">Consequence:</div>
                    <div class="text-gray-700">${result}</div>
                </div>
                <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                    <div class="font-semibold text-blue-600">The Reality:</div>
                    <div class="text-sm text-gray-700 mt-2">
                        These scenarios are based on real experiences. When you're living paycheck to paycheck, 
                        there are often no good choices - only different types of harm.
                    </div>
                </div>
            `;
            resultDiv.classList.remove('hidden');

            // Hide choices after selection
            document.getElementById('scenario-choices').classList.add('hidden');
        }

        function resetScenarios() {
            document.getElementById('scenario-intro').classList.remove('hidden');
            document.getElementById('scenario-content').classList.add('hidden');
            document.getElementById('scenario-result').classList.add('hidden');
            document.getElementById('scenario-choices').classList.remove('hidden');
        }

        // Day in the Life Stories
        const dayStories = {
            maria: {
                name: "Maria, 28 - Single Mom, 2 Jobs",
                timeline: [
                    { time: "4:30 AM", event: "Wake up, shower quickly while kids sleep", stress: "üò¥ Exhausted from 4 hours sleep" },
                    { time: "5:00 AM", event: "Get kids ready, pack lunches with whatever's left", stress: "üò∞ Worried about grocery money" },
                    { time: "5:45 AM", event: "Drop kids at neighbor's house", stress: "üôè Grateful for help, feels guilty" },
                    { time: "6:30 AM", event: "Arrive at cleaning job (office building)", stress: "üí™ Ready to work hard" },
                    { time: "10:00 AM", event: "Finish cleaning, rush to second job", stress: "üèÉ‚Äç‚ôÄÔ∏è No time for breakfast" },
                    { time: "11:00 AM", event: "Start shift at restaurant", stress: "üòä Smile for customers despite exhaustion" },
                    { time: "2:00 PM", event: "Pick up kids from neighbor", stress: "üòî Kids ask why mommy is always tired" },
                    { time: "3:00 PM", event: "Help with homework, do laundry", stress: "üìö Struggles to help with math" },
                    { time: "5:00 PM", event: "Cook dinner with food bank groceries", stress: "üçù Kids complain about same meal again" },
                    { time: "7:00 PM", event: "Bath time, bedtime stories", stress: "‚ù§Ô∏è Best part of her day" },
                    { time: "8:30 PM", event: "Kids asleep, pay bills online", stress: "üí∏ $50 short on electric bill" },
                    { time: "10:00 PM", event: "Prep for tomorrow, set 3 alarms", stress: "üòü Worries about oversleeping" },
                    { time: "11:00 PM", event: "Finally in bed", stress: "üß† Mind racing about tomorrow's challenges" }
                ]
            },
            james: {
                name: "James, 45 - Disabled Veteran, Part-time",
                timeline: [
                    { time: "6:00 AM", event: "Wake up to back pain", stress: "üò£ Pain level 7/10 today" },
                    { time: "6:30 AM", event: "Take medication, wait for it to work", stress: "üíä Only 3 pills left until payday" },
                    { time: "8:00 AM", event: "Light breakfast, check job schedule", stress: "üì± Only 15 hours this week" },
                    { time: "9:00 AM", event: "Physical therapy exercises", stress: "üí™ Necessary but exhausting" },
                    { time: "11:00 AM", event: "Start part-time shift at grocery store", stress: "üõí Standing is difficult today" },
                    { time: "2:00 PM", event: "Lunch break, eat in car to save money", stress: "ü•™ PB&J again" },
                    { time: "4:00 PM", event: "Finish work, back pain worsening", stress: "üò∞ Worried about calling in sick" },
                    { time: "5:00 PM", event: "VA appointment (finally got one)", stress: "üè• 2-hour wait for 10-minute visit" },
                    { time: "7:30 PM", event: "Grocery shopping with employee discount", stress: "üßÆ Calculating every purchase" },
                    { time: "8:30 PM", event: "Simple dinner, ice pack on back", stress: "üç≤ Canned soup and crackers" },
                    { time: "9:00 PM", event: "Apply for disability benefits online", stress: "üìã Denied twice already" },
                    { time: "10:30 PM", event: "Watch TV to distract from pain", stress: "üì∫ Can't afford cable, just antenna" },
                    { time: "12:00 AM", event: "Try to sleep despite pain", stress: "üòî Wondering if tomorrow will be better" }
                ]
            },
            sarah: {
                name: "Sarah, 19 - College Student, Full-time Worker",
                timeline: [
                    { time: "5:00 AM", event: "Wake up in shared apartment", stress: "üò¥ 3 roommates, thin walls" },
                    { time: "5:30 AM", event: "Quick shower, instant coffee", stress: "‚òï Can't afford coffee shop" },
                    { time: "6:00 AM", event: "Study for exam while eating cereal", stress: "üìö Behind on reading" },
                    { time: "7:00 AM", event: "Bus to work (45-minute commute)", stress: "üöå Bus is late again" },
                    { time: "8:00 AM", event: "Start shift at retail store", stress: "üëï Smile and fold clothes" },
                    { time: "12:00 PM", event: "Lunch break, study in break room", stress: "üìñ Trying to catch up" },
                    { time: "5:00 PM", event: "Finish work, rush to campus", stress: "üèÉ‚Äç‚ôÄÔ∏è Might miss first class" },
                    { time: "6:00 PM", event: "Evening classes begin", stress: "üòµ Struggling to stay awake" },
                    { time: "9:00 PM", event: "Classes end, library study time", stress: "üíª Laptop battery dying" },
                    { time: "11:00 PM", event: "Bus home, study on phone", stress: "üì± Using phone flashlight to read" },
                    { time: "12:00 AM", event: "Home, quick dinner", stress: "üçú Ramen noodles again" },
                    { time: "1:00 AM", event: "More studying, write paper", stress: "‚úçÔ∏è Due tomorrow, barely started" },
                    { time: "3:00 AM", event: "Finally sleep", stress: "üò∞ Alarm set for 5 AM again" }
                ]
            }
        };

        function showDayInLife(person) {
            const story = dayStories[person];
            document.getElementById('day-person').textContent = story.name;
            document.getElementById('day-timeline').classList.remove('hidden');

            const timelineContent = document.getElementById('timeline-content');
            timelineContent.innerHTML = story.timeline.map(item => `
                <div class="flex items-start space-x-4 p-3 bg-gray-50 rounded-lg">
                    <div class="font-bold text-blue-600 min-w-[80px]">${item.time}</div>
                    <div class="flex-1">
                        <div class="font-semibold">${item.event}</div>
                        <div class="text-sm text-gray-600 mt-1">${item.stress}</div>
                    </div>
                </div>
            `).join('');
        }

        // What Would You Cut functionality
        let cutItems = {};
        let totalCut = 0;

        const cutConsequences = {
            rent: "üè† Eviction notice in 3 days. Homelessness looms. Credit destroyed for years.",
            groceries: "üçΩÔ∏è Family goes hungry. Kids ask teachers for extra snacks. Malnutrition affects work performance.",
            electricity: "üí° Power shut off. Food spoils. Kids can't do homework. Reconnection fees add $200.",
            car: "üöó Car repossessed. Can't get to work. Lose job. Downward spiral begins.",
            medicine: "üíä Blood sugar spikes dangerously. ER visit costs $3,000. Nearly die from diabetic coma.",
            phone: "üì± Lose connection to work. Miss job opportunities. Can't call for emergencies."
        };

        function toggleCut(item, amount) {
            const button = event.target;

            if (cutItems[item]) {
                // Uncut the item
                delete cutItems[item];
                totalCut -= amount;
                button.textContent = 'Cut';
                button.className = 'cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm';
            } else {
                // Cut the item
                cutItems[item] = amount;
                totalCut += amount;
                button.textContent = 'Restore';
                button.className = 'cut-btn bg-green-500 text-white px-3 py-1 rounded text-sm';
            }

            updateCutDisplay();
        }

        function updateCutDisplay() {
            document.getElementById('total-cut').textContent = totalCut;

            const consequencesDiv = document.getElementById('cut-consequences');
            const statusDiv = document.getElementById('cut-status');

            if (totalCut === 0) {
                consequencesDiv.innerHTML = '<div class="text-gray-600">Select items to cut and see what happens...</div>';
                statusDiv.textContent = '';
                statusDiv.className = 'mt-2 font-bold';
            } else {
                const consequences = Object.keys(cutItems).map(item =>
                    `<div class="p-3 bg-red-50 rounded-lg border-l-4 border-red-500">
                        <div class="font-semibold text-red-600">${item.charAt(0).toUpperCase() + item.slice(1)} Cut:</div>
                        <div class="text-sm text-gray-700">${cutConsequences[item]}</div>
                    </div>`
                ).join('');

                consequencesDiv.innerHTML = consequences;

                if (totalCut >= 200) {
                    statusDiv.textContent = '‚úì Budget balanced, but at what cost?';
                    statusDiv.className = 'mt-2 font-bold text-green-600';
                } else {
                    statusDiv.textContent = `Still need to cut $${200 - totalCut} more`;
                    statusDiv.className = 'mt-2 font-bold text-red-600';
                }
            }
        }
    </script>

    <!-- Emergency Simulator Section -->
    <div id="emergency-simulator" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üö® One Emergency Away</h2>
            <p class="text-blue-100 mt-2">See how a single unexpected expense can destroy a tight budget</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Choose Your Emergency</h3>
                <div class="space-y-4">
                    <button onclick="simulateEmergency('car', 500)"
                        class="w-full text-left p-4 bg-white rounded-lg border hover:bg-red-50">
                        <div class="font-semibold">üöó Car Repair</div>
                        <div class="text-sm text-gray-600">$500 - Transmission problems</div>
                    </button>
                    <button onclick="simulateEmergency('medical', 300)"
                        class="w-full text-left p-4 bg-white rounded-lg border hover:bg-red-50">
                        <div class="font-semibold">üè• Medical Emergency</div>
                        <div class="text-sm text-gray-600">$300 - ER visit copay</div>
                    </button>
                    <button onclick="simulateEmergency('dental', 250)"
                        class="w-full text-left p-4 bg-white rounded-lg border hover:bg-red-50">
                        <div class="font-semibold">ü¶∑ Dental Emergency</div>
                        <div class="text-sm text-gray-600">$250 - Emergency tooth extraction</div>
                    </button>
                    <button onclick="simulateEmergency('work', 400)"
                        class="w-full text-left p-4 bg-white rounded-lg border hover:bg-red-50">
                        <div class="font-semibold">üìÖ Missed Work</div>
                        <div class="text-sm text-gray-600">$400 - One week without pay (sick child)</div>
                    </button>
                    <button onclick="simulateEmergency('phone', 200)"
                        class="w-full text-left p-4 bg-white rounded-lg border hover:bg-red-50">
                        <div class="font-semibold">üì± Phone Broken</div>
                        <div class="text-sm text-gray-600">$200 - Need phone for work</div>
                    </button>
                </div>
            </div>

            <div class="bg-yellow-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-yellow-600 mb-4">Cascading Effects</h3>
                <div id="emergency-impact" class="space-y-3 text-sm">
                    <div class="text-gray-600">Select an emergency to see the ripple effects...</div>
                </div>
            </div>
        </div>

        <div class="mt-8 bg-blue-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-blue-600 mb-4">Real Stories</h3>
            <div id="emergency-story" class="text-gray-700">
                Click an emergency above to read real experiences from people who lived through these situations.
            </div>
        </div>
    </div>

    <!-- Time Poverty Calculator -->
    <div id="time-poverty" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">‚è∞ Time Poverty Calculator</h2>
            <p class="text-blue-100 mt-2">See how many hours of work basic necessities really cost</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="bg-blue-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-blue-600 mb-4">At $7.25/hour (Federal Minimum)</h3>
                <div class="space-y-3" id="time-poverty-min">
                    <div class="flex justify-between items-center">
                        <span>ü•õ Gallon of milk ($3.50)</span>
                        <span class="font-bold text-blue-600">29 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üçû Loaf of bread ($2.50)</span>
                        <span class="font-bold text-blue-600">21 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>‚õΩ Gallon of gas ($3.20)</span>
                        <span class="font-bold text-blue-600">26 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üè† Average rent ($1,326)</span>
                        <span class="font-bold text-blue-600">183 hours</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üöó Car payment ($350)</span>
                        <span class="font-bold text-blue-600">48 hours</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üì± Phone bill ($50)</span>
                        <span class="font-bold text-blue-600">7 hours</span>
                    </div>
                </div>
            </div>

            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-green-600 mb-4">At $15/hour (Living Wage)</h3>
                <div class="space-y-3" id="time-poverty-living">
                    <div class="flex justify-between items-center">
                        <span>ü•õ Gallon of milk ($3.50)</span>
                        <span class="font-bold text-green-600">14 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üçû Loaf of bread ($2.50)</span>
                        <span class="font-bold text-green-600">10 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>‚õΩ Gallon of gas ($3.20)</span>
                        <span class="font-bold text-green-600">13 minutes</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üè† Average rent ($1,326)</span>
                        <span class="font-bold text-green-600">88 hours</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üöó Car payment ($350)</span>
                        <span class="font-bold text-green-600">23 hours</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span>üì± Phone bill ($50)</span>
                        <span class="font-bold text-green-600">3.3 hours</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-8 bg-orange-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-orange-600 mb-4">The Reality</h3>
            <p class="text-gray-700 text-lg leading-relaxed">
                At minimum wage, rent alone requires <strong>183 hours of work per month</strong> - that's 46 hours per
                week just for housing.
                Add food, transportation, and other basics, and you need to work more than 60 hours per week just to
                survive.
            </p>
        </div>
    </div>

    <!-- Benefits Cliff Visualizer -->
    <div id="benefits-cliff" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üìâ The Benefits Cliff</h2>
            <p class="text-blue-100 mt-2">Why getting a raise can actually make you poorer</p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 mb-6">
            <div class="mb-4">
                <label for="cliff-wage" class="block text-lg font-semibold mb-2">Adjust hourly wage:</label>
                <input type="range" id="cliff-wage" min="7.25" max="20" step="0.25" value="12" class="w-full"
                    onchange="updateBenefitsCliff()">
                <div class="text-center mt-2 text-lg font-bold">$<span id="cliff-wage-display">12.00</span>/hour</div>
            </div>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Government Benefits Lost</h3>
                <div class="space-y-3" id="benefits-lost">
                    <div class="flex justify-between">
                        <span>SNAP (Food Stamps)</span>
                        <span class="font-bold">$<span id="snap-lost">0</span>/month</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Medicaid</span>
                        <span class="font-bold">$<span id="medicaid-lost">0</span>/month</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Childcare Subsidies</span>
                        <span class="font-bold">$<span id="childcare-lost">0</span>/month</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Housing Assistance</span>
                        <span class="font-bold">$<span id="housing-lost">0</span>/month</span>
                    </div>
                    <div class="border-t pt-2 mt-2">
                        <div class="flex justify-between text-lg font-bold">
                            <span>Total Benefits Lost</span>
                            <span class="text-red-600">$<span id="total-benefits-lost">0</span></span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-green-600 mb-4">Income Gained</h3>
                <div class="space-y-3" id="income-gained">
                    <div class="flex justify-between">
                        <span>Additional Gross Pay</span>
                        <span class="font-bold">$<span id="gross-gained">0</span>/month</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Less: Additional Taxes</span>
                        <span class="font-bold">-$<span id="taxes-additional">0</span>/month</span>
                    </div>
                    <div class="border-t pt-2 mt-2">
                        <div class="flex justify-between text-lg font-bold">
                            <span>Net Income Gained</span>
                            <span class="text-green-600">$<span id="net-gained">0</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-6 p-6 rounded-lg" id="cliff-result">
            <div class="text-center text-2xl font-bold">
                Net Change: <span id="cliff-net-change" class="text-gray-600">$0</span>
            </div>
            <div class="text-center text-lg mt-2" id="cliff-message">
                Adjust the wage slider to see the benefits cliff in action
            </div>
        </div>
    </div>

    <!-- Impossible Choices Decision Tree -->
    <div id="impossible-choices" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">ü§î Impossible Choices</h2>
            <p class="text-blue-100 mt-2">Experience the decisions no one should have to make</p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 mb-6">
            <div id="scenario-intro" class="text-center">
                <h3 class="text-xl font-semibold mb-4">Choose a scenario to begin:</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <button onclick="startScenario('sick-child')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">ü§í Sick Child</div>
                        <div class="text-sm text-gray-600">Your child has a fever and you can't afford to miss work
                        </div>
                    </button>
                    <button onclick="startScenario('car-broke')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">üöó Car Broke Down</div>
                        <div class="text-sm text-gray-600">Your only transportation to work is broken</div>
                    </button>
                    <button onclick="startScenario('eviction-notice')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">üè† Eviction Notice</div>
                        <div class="text-sm text-gray-600">You're $200 short on rent and have 3 days</div>
                    </button>
                    <button onclick="startScenario('medicine-choice')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">üíä Medicine vs Food</div>
                        <div class="text-sm text-gray-600">You can afford either your medication or groceries</div>
                    </button>
                </div>
            </div>

            <div id="scenario-content" class="hidden">
                <div id="scenario-text" class="text-lg mb-6"></div>
                <div id="scenario-choices" class="space-y-3"></div>
                <div id="scenario-result" class="mt-6 p-4 rounded-lg hidden"></div>
                <button onclick="resetScenarios()" class="btn-secondary mt-4">Try Another Scenario</button>
            </div>
        </div>
    </div>

    <!-- The Poverty Tax -->
    <div id="poverty-tax" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üí∏ The Poverty Tax</h2>
            <p class="text-blue-100 mt-2">How being poor costs extra money</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Poor Person's Costs</h3>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè¶ Banking</div>
                        <div class="text-sm text-gray-600">No bank account ‚Üí Check cashing fees</div>
                        <div class="text-lg font-bold text-red-600">$240/year</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üß∫ Laundry</div>
                        <div class="text-sm text-gray-600">No washer/dryer ‚Üí Laundromat</div>
                        <div class="text-lg font-bold text-red-600">$600/year</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üõí Groceries</div>
                        <div class="text-sm text-gray-600">No car ‚Üí Corner store prices</div>
                        <div class="text-lg font-bold text-red-600">+30% more</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üì± Phone</div>
                        <div class="text-sm text-gray-600">Bad credit ‚Üí Prepaid plans</div>
                        <div class="text-lg font-bold text-red-600">$360/year extra</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè† Housing</div>
                        <div class="text-sm text-gray-600">Bad credit ‚Üí Security deposits</div>
                        <div class="text-lg font-bold text-red-600">$2,000+ upfront</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üí≥ Credit</div>
                        <div class="text-sm text-gray-600">Payday loans ‚Üí 400% APR</div>
                        <div class="text-lg font-bold text-red-600">$500 ‚Üí $2,000</div>
                    </div>
                </div>
            </div>

            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-green-600 mb-4">Middle Class Costs</h3>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè¶ Banking</div>
                        <div class="text-sm text-gray-600">Free checking account</div>
                        <div class="text-lg font-bold text-green-600">$0/year</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üß∫ Laundry</div>
                        <div class="text-sm text-gray-600">Own washer/dryer</div>
                        <div class="text-lg font-bold text-green-600">$120/year</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üõí Groceries</div>
                        <div class="text-sm text-gray-600">Drive to supermarket/Costco</div>
                        <div class="text-lg font-bold text-green-600">Base price</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üì± Phone</div>
                        <div class="text-sm text-gray-600">Family plan discounts</div>
                        <div class="text-lg font-bold text-green-600">$480/year</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè† Housing</div>
                        <div class="text-sm text-gray-600">Good credit ‚Üí Lower deposits</div>
                        <div class="text-lg font-bold text-green-600">$500 deposit</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üí≥ Credit</div>
                        <div class="text-sm text-gray-600">Credit cards ‚Üí 18% APR</div>
                        <div class="text-lg font-bold text-green-600">$500 ‚Üí $590</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="mt-8 bg-orange-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-orange-600 mb-4">The Poverty Tax Total</h3>
            <p class="text-gray-700 text-lg leading-relaxed mb-4">
                Being poor costs an estimated <strong>$2,000-4,000 extra per year</strong> in fees, higher prices, and
                predatory lending.
                This "poverty tax" makes it even harder to escape financial hardship.
            </p>
            <div class="bg-white p-4 rounded-lg">
                <div class="text-center text-2xl font-bold text-red-600">
                    Extra Annual Cost: $3,200+
                </div>
                <div class="text-center text-gray-600 mt-2">
                    That's $267 per month just for being poor
                </div>
            </div>
        </div>
    </div>

    <!-- Geography of Inequality -->
    <div id="geography" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üó∫Ô∏è Geography of Inequality</h2>
            <p class="text-blue-100 mt-2">How location determines your financial reality</p>
        </div>

        <div class="grid lg:grid-cols-3 gap-6 mb-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">High Cost Cities</h3>
                <div class="space-y-3">
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">San Francisco, CA</div>
                        <div class="text-sm">Min wage: $18.07/hr</div>
                        <div class="text-sm">1BR rent: $3,500/mo</div>
                        <div class="text-red-600 font-bold">194 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">New York, NY</div>
                        <div class="text-sm">Min wage: $15.00/hr</div>
                        <div class="text-sm">1BR rent: $2,800/mo</div>
                        <div class="text-red-600 font-bold">187 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Boston, MA</div>
                        <div class="text-sm">Min wage: $15.00/hr</div>
                        <div class="text-sm">1BR rent: $2,500/mo</div>
                        <div class="text-red-600 font-bold">167 hours for rent</div>
                    </div>
                </div>
            </div>

            <div class="bg-yellow-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-yellow-600 mb-4">Medium Cost Cities</h3>
                <div class="space-y-3">
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Denver, CO</div>
                        <div class="text-sm">Min wage: $17.29/hr</div>
                        <div class="text-sm">1BR rent: $1,800/mo</div>
                        <div class="text-yellow-600 font-bold">104 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Austin, TX</div>
                        <div class="text-sm">Min wage: $7.25/hr</div>
                        <div class="text-sm">1BR rent: $1,600/mo</div>
                        <div class="text-yellow-600 font-bold">221 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Phoenix, AZ</div>
                        <div class="text-sm">Min wage: $14.35/hr</div>
                        <div class="text-sm">1BR rent: $1,400/mo</div>
                        <div class="text-yellow-600 font-bold">98 hours for rent</div>
                    </div>
                </div>
            </div>

            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-green-600 mb-4">Lower Cost Areas</h3>
                <div class="space-y-3">
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Birmingham, AL</div>
                        <div class="text-sm">Min wage: $7.25/hr</div>
                        <div class="text-sm">1BR rent: $800/mo</div>
                        <div class="text-green-600 font-bold">110 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Wichita, KS</div>
                        <div class="text-sm">Min wage: $7.25/hr</div>
                        <div class="text-sm">1BR rent: $700/mo</div>
                        <div class="text-green-600 font-bold">97 hours for rent</div>
                    </div>
                    <div class="bg-white p-3 rounded">
                        <div class="font-semibold">Toledo, OH</div>
                        <div class="text-sm">Min wage: $10.10/hr</div>
                        <div class="text-sm">1BR rent: $650/mo</div>
                        <div class="text-green-600 font-bold">64 hours for rent</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-blue-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-blue-600 mb-4">The Geographic Trap</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">High-wage cities:</h4>
                    <ul class="text-sm space-y-1 text-gray-700">
                        <li>‚Ä¢ Higher minimum wages</li>
                        <li>‚Ä¢ More job opportunities</li>
                        <li>‚Ä¢ Better public transportation</li>
                        <li>‚Ä¢ BUT: Housing costs eat up all gains</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">Low-cost areas:</h4>
                    <ul class="text-sm space-y-1 text-gray-700">
                        <li>‚Ä¢ Lower housing costs</li>
                        <li>‚Ä¢ BUT: Federal minimum wage ($7.25)</li>
                        <li>‚Ä¢ Fewer job opportunities</li>
                        <li>‚Ä¢ Need a car for everything</li>
                    </ul>
                </div>
            </div>
            <div class="mt-4 p-4 bg-white rounded-lg">
                <div class="text-center font-bold text-blue-600">
                    The cruel irony: You need money to move to where you can make money
                </div>
            </div>
        </div>
    </div>

    <!-- Generational Impact -->
    <div id="generational" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Breaking the Cycle</h2>
            <p class="text-blue-100 mt-2">How poverty affects children and future generations</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8 mb-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Childhood Poverty Impact</h3>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üß† Brain Development</div>
                        <div class="text-sm text-gray-600">Chronic stress affects cognitive development</div>
                        <div class="text-red-600 font-bold">-13 IQ points on average</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè´ Education</div>
                        <div class="text-sm text-gray-600">Frequent school changes, hunger affects learning</div>
                        <div class="text-red-600 font-bold">23% graduation rate vs 91%</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üè• Health</div>
                        <div class="text-sm text-gray-600">Poor nutrition, delayed medical care</div>
                        <div class="text-red-600 font-bold">2x higher chronic disease rates</div>
                    </div>
                    <div class="bg-white p-4 rounded-lg">
                        <div class="font-semibold">üò∞ Mental Health</div>
                        <div class="text-sm text-gray-600">Trauma from instability and stress</div>
                        <div class="text-red-600 font-bold">3x higher depression rates</div>
                    </div>
                </div>
            </div>

            <div class="bg-blue-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-blue-600 mb-4">The Poverty Cycle</h3>
                <div class="space-y-4">
                    <div class="bg-white p-4 rounded-lg border-l-4 border-blue-500">
                        <div class="font-semibold">Generation 1: Parents</div>
                        <div class="text-sm text-gray-600">Low wages ‚Üí Stress ‚Üí Multiple jobs ‚Üí Less time with children
                        </div>
                    </div>
                    <div class="text-center text-2xl">‚¨áÔ∏è</div>
                    <div class="bg-white p-4 rounded-lg border-l-4 border-orange-500">
                        <div class="font-semibold">Generation 2: Children</div>
                        <div class="text-sm text-gray-600">Poor schools ‚Üí Lower achievement ‚Üí Limited opportunities
                        </div>
                    </div>
                    <div class="text-center text-2xl">‚¨áÔ∏è</div>
                    <div class="bg-white p-4 rounded-lg border-l-4 border-red-500">
                        <div class="font-semibold">Generation 3: Grandchildren</div>
                        <div class="text-sm text-gray-600">Cycle repeats ‚Üí 76% chance of remaining in poverty</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-green-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-green-600 mb-4">Breaking the Cycle: What Works</h3>
            <div class="grid md:grid-cols-3 gap-4">
                <div class="bg-white p-4 rounded-lg">
                    <div class="font-semibold">üí∞ Income Support</div>
                    <div class="text-sm text-gray-600 mt-2">Child Tax Credit lifted 3.7 million children out of poverty
                        in 2021</div>
                </div>
                <div class="bg-white p-4 rounded-lg">
                    <div class="font-semibold">üéì Early Education</div>
                    <div class="text-sm text-gray-600 mt-2">Universal Pre-K increases graduation rates by 42%</div>
                </div>
                <div class="bg-white p-4 rounded-lg">
                    <div class="font-semibold">üè• Healthcare Access</div>
                    <div class="text-sm text-gray-600 mt-2">Medicaid expansion reduces child mortality by 50%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- A Day in the Life -->
    <div id="day-in-life" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üåÖ A Day in the Life</h2>
            <p class="text-blue-100 mt-2">24 hours in the life of a minimum wage worker</p>
        </div>

        <div class="bg-gray-50 rounded-lg p-6 mb-6">
            <div class="text-center mb-4">
                <h3 class="text-xl font-semibold">Choose a person to follow:</h3>
                <div class="grid md:grid-cols-3 gap-4 mt-4">
                    <button onclick="showDayInLife('maria')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">Maria, 28</div>
                        <div class="text-sm text-gray-600">Single mom, 2 kids, works 2 jobs</div>
                    </button>
                    <button onclick="showDayInLife('james')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">James, 45</div>
                        <div class="text-sm text-gray-600">Disabled veteran, part-time work</div>
                    </button>
                    <button onclick="showDayInLife('sarah')" class="btn-secondary p-4 text-left">
                        <div class="font-semibold">Sarah, 19</div>
                        <div class="text-sm text-gray-600">College student, full-time worker</div>
                    </button>
                </div>
            </div>
        </div>

        <div id="day-timeline" class="hidden">
            <div class="bg-white rounded-lg p-6">
                <h3 id="day-person" class="text-xl font-semibold mb-4"></h3>
                <div id="timeline-content" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <!-- What Would You Cut -->
    <div id="what-would-cut" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">‚úÇÔ∏è What Would You Cut?</h2>
            <p class="text-blue-100 mt-2">You're $200 short this month. What goes?</p>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Monthly Budget: $200 Short</h3>
                <div class="space-y-3" id="budget-items">
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üè† Rent</div>
                            <div class="text-sm text-gray-600">Late fees if not paid</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$800</span>
                            <button onclick="toggleCut('rent', 800)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üõí Groceries</div>
                            <div class="text-sm text-gray-600">Family needs to eat</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$300</span>
                            <button onclick="toggleCut('groceries', 300)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üí° Electricity</div>
                            <div class="text-sm text-gray-600">Power gets shut off</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$120</span>
                            <button onclick="toggleCut('electricity', 120)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üöó Car Payment</div>
                            <div class="text-sm text-gray-600">Need car for work</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$250</span>
                            <button onclick="toggleCut('car', 250)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üíä Medications</div>
                            <div class="text-sm text-gray-600">Diabetes insulin</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$150</span>
                            <button onclick="toggleCut('medicine', 150)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                    <div class="bg-white p-3 rounded-lg flex justify-between items-center">
                        <div>
                            <div class="font-semibold">üì± Phone</div>
                            <div class="text-sm text-gray-600">Need for work calls</div>
                        </div>
                        <div class="flex items-center">
                            <span class="mr-3 font-bold">$50</span>
                            <button onclick="toggleCut('phone', 50)"
                                class="cut-btn bg-red-500 text-white px-3 py-1 rounded text-sm">Cut</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-yellow-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-yellow-600 mb-4">Consequences</h3>
                <div id="cut-consequences" class="space-y-3 text-sm">
                    <div class="text-gray-600">Select items to cut and see what happens...</div>
                </div>
                <div class="mt-6 p-4 bg-white rounded-lg">
                    <div class="text-center">
                        <div class="text-lg font-semibold">Amount Cut: $<span id="total-cut">0</span></div>
                        <div class="text-sm text-gray-600">Need to cut: $200</div>
                        <div id="cut-status" class="mt-2 font-bold"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- The Dignity Index -->
    <div id="dignity-index" class="card mb-12">
        <div class="section-header">
            <h2 class="text-3xl font-bold">üíù The Dignity Index</h2>
            <p class="text-blue-100 mt-2">Beyond dollars: How poverty affects human dignity</p>
        </div>

        <div class="grid lg:grid-cols-3 gap-6 mb-8">
            <div class="bg-red-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-red-600 mb-4">Daily Humiliations</h3>
                <div class="space-y-3 text-sm">
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">At the Store</div>
                        <div class="text-gray-600">"Your card was declined" in front of other customers</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">At School</div>
                        <div class="text-gray-600">Your child qualifies for "free lunch" - everyone knows</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">At Work</div>
                        <div class="text-gray-600">Wearing the same clothes repeatedly</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">With Friends</div>
                        <div class="text-gray-600">"I can't afford it" becomes your most common phrase</div>
                    </div>
                </div>
            </div>

            <div class="bg-yellow-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-yellow-600 mb-4">Lost Opportunities</h3>
                <div class="space-y-3 text-sm">
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Social Isolation</div>
                        <div class="text-gray-600">Can't afford to join friends for dinner, movies, activities</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Career Growth</div>
                        <div class="text-gray-600">Can't afford professional clothes, networking events, training</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Children's Activities</div>
                        <div class="text-gray-600">No sports, music lessons, field trips for your kids</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Emergency Response</div>
                        <div class="text-gray-600">Can't help family members in crisis</div>
                    </div>
                </div>
            </div>

            <div class="bg-green-50 rounded-lg p-6">
                <h3 class="text-xl font-semibold text-green-600 mb-4">Restoring Dignity</h3>
                <div class="space-y-3 text-sm">
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Living Wages</div>
                        <div class="text-gray-600">Ability to provide for family without shame</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Universal Programs</div>
                        <div class="text-gray-600">Benefits for everyone reduce stigma</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Respect at Work</div>
                        <div class="text-gray-600">Fair scheduling, sick leave, advancement opportunities</div>
                    </div>
                    <div class="bg-white p-3 rounded-lg">
                        <div class="font-semibold">Community Support</div>
                        <div class="text-gray-600">Programs that build up rather than tear down</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-blue-50 rounded-lg p-6">
            <h3 class="text-xl font-semibold text-blue-600 mb-4">The Human Cost</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">What We Measure:</h4>
                    <ul class="text-sm space-y-1 text-gray-700">
                        <li>‚Ä¢ Income levels</li>
                        <li>‚Ä¢ Employment rates</li>
                        <li>‚Ä¢ Housing costs</li>
                        <li>‚Ä¢ Healthcare access</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-2">What We Don't Measure:</h4>
                    <ul class="text-sm space-y-1 text-gray-700">
                        <li>‚Ä¢ Daily stress and anxiety</li>
                        <li>‚Ä¢ Loss of hope and dreams</li>
                        <li>‚Ä¢ Impact on relationships</li>
                        <li>‚Ä¢ Damage to self-worth</li>
                    </ul>
                </div>
            </div>
            <div class="mt-6 p-4 bg-white rounded-lg">
                <div class="text-center font-bold text-blue-600 text-lg">
                    "Poverty isn't just about money - it's about being treated as if you don't matter."
                </div>
                <div class="text-center text-sm text-gray-600 mt-2">
                    - Person experiencing poverty
                </div>
            </div>
        </div>
    </div>

</body>

</html>